---
title: "[js] 정규표현식"
date: 2021-12-29T22:20:10Z
category: ["lang", "lang-javascript"]
tags: regex
published: false
---

## **# 정규 표현식**

---

- 형식 언어(formal language)
- 정규 표현식은 문자열의 특정 문자 조합과 대응시키기 위해 사용되는 패턴이다.
- 대부분 프로그래밍 언어와 코드 에디터에 내장
- 패턴 매칭 기능 제공: 특정 패턴과 일치하는 문자열을 검색 or 추출 or 치환
- 정규식은 주석이나 공백을 허용하지 않는다.
- 여러가지 기호를 혼합하여 사용하여 가독성이 좋지않다.

### 패턴과 플래그로 구성

- 패턴은 문자열의 일정한 규칙을 표현한다.
- 플래그는 정규 표현식의 검색 방식을 설정하기 위해 사용한다.

#### 패턴

#### 플래그

- 검색 방식을 설정하기 위해 사용한다.

  | 플래그 | 의미        | 설명                                    |
  | ------ | ----------- | --------------------------------------- |
  | i      | Ignore case | 대소문자 구별 x 패턴 검색               |
  | g      | Global      | 패턴과 일치하는 모든 문자열을 전역 검색 |
  | m      | Multi line  | 행이 바뀌더라도 패턴 검색 계속 수행     |

- 플래그 == 옵션
- 선택적 사용가능하다.
- 순서와 상관없이 하나 이상의 플래그 동시 사용가능하다.
- 어떠한 플래그를 사용하지 않은 경우 대소문자 구별하고, 첫 매칭한 대상만 검색하고 종료한다.

### 예시

- 아래와 같이 반복문 없이 패턴을 정의하고 테스트할 수 있다.

```javascript
const tel = "010-1234-오오칠칠";
const regex = /^\d{3}-\d{4}-\d{4}$/; // -> 숫자3개, 숫자4개, 숫자 4개 라는 패턴
regex.test(tel); // -> false
```

## **# 정규식 생성**

---

- 정규표현식 리터럴 or RegExp 생성자 함수를 사용하여 생성

### 정규식 리터럴을 사용하는 방법

- 슬래시 "/"로 감싸는 패턴 + 플래그(flag)

```js
var re = /ab+c/;
const target = "is this all there is?";
const regex = /is/i; // i 플래그 : 대소문자 구별 x 검색
regex.test(target); // -> true
```

- 정규식 리터럴은 스크립트가 불러와질 때 컴파일된다.(정규식이 상수라면 성능 향상)

### 생성자 함수 호출 방법

```js
/**
 *  pattern: 정규 표현식의 패턴
 *  flags: 정규 표현식의 플래그(g, i, m, u, y)
 */
new RegExp(pattern[, flags])
var re = new RegExp("ab+c");
const target = 'is this all there is?';
const regex = new RegExp(/is/i); //ES6
//const regex = new RegExp(/is/,'i');
//const regex = new RegExp('is','i');
regex.test(target); // -> true
```

- 실행 시점에 컴파일된다.
- 패턴이 변경될 수 있는 경우 사용한다.
- 사용자 입력과 같이 다른 곳에서 패턴을 가져올 때 사용한다.

## **# RegExp 메서드**

---

### RegExp.prototype.exec

- 인수로 전달받은 문자열에 대해 정규식의 패턴을 검색, 매칭 결과를 배열로 반환한다.
- 매칭 결과가 없는 경우 null
- 문자열 내의 모든 패턴을 검색하는 g 플래그를 지정해도 첫 매칭 결과만 반환한다.

```js
const target = "Is this is";
const regex = /is/;

regex.exec(target);
//-> (1) ['is', index: 5, input: 'Is this is', groups: undefined]
```

### RegExp.prototype.test

- 매칭결과를 불리언 값으로 반환한다.

```js
const target = "Is this is";
const regex = /is/;

regex.test(target);
//-> true
```

### String.prototype.match

- String 표준 빌트인 객체가 제공하는 메서드
- 매칭결과를 배열로 반환한다.
- exec 메서드와는 다르게 g 플래그로 모든 매칭 결과를 반환한다.

```js
const target = "Is this is";
const regex = /is/g;
const regex1 = /is/;

target.match(regex);
//-> (2) ['is', 'is']
target.match(regex1);
//-> (1) ['is', index: 5, input: 'Is this is', groups: undefined]
```

### String.prototype.search

### String.prototype.replace

### String.prototype.split

## 레퍼런스

---

- 모던 자바스크립트 Deep Dive 578p~
- [mozilla-Regular_Expressions](https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Regular_Expressions)
